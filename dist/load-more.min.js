(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.LoadMore = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function LoadMore(t){this.containerSelector=t.container||"[data-load-more]",this.buttonSelector=t.button||"[data-load-more-button]",this.linkSelector=t.link||"[data-load-more-link]",this.removeSelector=t.remove||this.linkSelector+", "+this.buttonSelector,this.callback=t.callback||null,this.container=document.querySelector(this.containerSelector),this.container.setAttribute("data-load-more-active",""),this.loading=!1,this.complete=!1;var e=this.container.querySelector(this.buttonSelector);e&&this.setupButton(e)}LoadMore.prototype.setupButton=function(t){t.addEventListener("click",this.fetchMoreContent.bind(this))},LoadMore.prototype.fetchMoreContent=function(){if(!this.loading&&!this.complete){this.loading=!0;var t=this.container.querySelector(this.linkSelector),e=t.getAttribute("href"),o=new XMLHttpRequest;o.open("GET",e,!0),o.onload=function(){o.status>=200&&o.status<400?this.handleResponse(o.responseText):this.die()}.bind(this),o.onerror=this.die.bind(this),o.send()}},LoadMore.prototype.handleResponse=function(t){var e=document.createElement("html");e.innerHTML=t;var o=e.querySelector(this.containerSelector);this.appendContent(o.innerHTML),"function"==typeof this.callback&&this.callback()},LoadMore.prototype.appendContent=function(t){this.removePrevious(),this.container.insertAdjacentHTML("beforeend",t);var e=this.container.querySelector(this.buttonSelector);e?this.setupButton(e):this.complete=!0,this.loading=!1},LoadMore.prototype.removePrevious=function(){for(var t=this.container.querySelectorAll(this.removeSelector),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])},LoadMore.prototype.die=function(){this.loading=!1,this.complete=!0,this.container.removeAttribute("data-load-more-active")},module.exports=LoadMore;
},{}]},{},[1])(1)
});


//# sourceMappingURL=load-more.min.js.map